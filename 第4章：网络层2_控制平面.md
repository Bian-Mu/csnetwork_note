
转发表（流表）是链接数据平面和控制平面的主要元素。上一章通过使用转发表，进行转发；本章节将理解转发表是如何计算、维护、安装的。

总的来说，主要有两种可能的方法（与数据平面一样）：      
![](Screenshot_2024-12-25-08-17-39-326_com.flyersoft.moonreaderp.png)
1. 每台路由器控制：在路由器中运行路由选择算法，由路由器内部的路由选择组件与其他车路由器通信，以计算其转发表的值。例如OSPF、BGP都是该方式
2. 逻辑集中式控制：有中央控制器计算并分发转发表以供每台路由器使用。该控制器通过某协议与路由器中的CA（控制代理）交互，来管理转发表。CA通常只有少量功能，且是被动工作的。SDN一般会采用该方式

### 路由选择算法

根本目的是确认一条从发送方到接收方的路径（开销尽可能小）。  

可以将路由器与链路抽象成图G=(N, E)，具有N个节点和E条边。  
![](Screenshot_2024-12-25-08-51-03-604_md.obsidian.png)
用c(x, y)表示从x节点到y节点的开销，x与y互为邻居。开销可以反映出链路的物理长度、链路传输速率等信息。

路由算法的目标就是找出两个节点之间的最低开销路径，同开销时选择最短路径。

算法主要有两种思路：
1. 集中式